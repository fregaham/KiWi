<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                             "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:m="http://code.google.com/p/gmaps4jsf/"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:kiwi="http://www.kiwi-project.eu/jsf"
	template="layout/main.xhtml">

	<ui:define name="breadcrumps">
		<ul>
			<li class="first"><s:link view="/edukms/abcmaths/home.xhtml"
				value="| Information Platform Home" /></li>
			<li><s:link view="/edukms/abcmaths/searchKMS.xhtml"
				value="Content Search" /></li>
			<li><s:link view="/edukms/abcmaths/combinedResourcesPresentation.xhtml"
				value="Combined resources" /></li>
			<li><s:link view="/edukms/abcmaths/combiSegmentedResPresentation.xhtml"
				value="Segmented Resource" /></li>
		</ul>
	</ui:define>

	<ui:define name="body">

		<style>
h1 {
	color: #6f91c0;
	font-size: 16px;
	margin-left: 20px;
}

h2 {
	color: #6f91c0;
	font-size: 14px;
	margin-left: 5px;
}

h3 {
	color: #6f91c0;
	font-size: 12px;
	margin-left: 5px;
}

h4 {
	color: #6f91c0;
	font-size: 12px;
	margin-left: 5px;
	font-weight: 200;
}

#cover {
	margin: 10px 0 0 -5px;
	width: 810px;
}

#arrows {
	width: 500px;
	margin: 20px;
}

#editor, #editor2, #editor3, #editor4, #editor5, #editor6, #editor7 {
	margin: 10px;
	
}

.buttonclass {

	text-decoration: none;
	margin-right: 5px;

}

#trennlinie {
	border-bottom: 1px solid #ddd;
	margin: 10px;
}

#buttons {
	
	
	padding:10px;

}

#commentCatalogue ul li{
	list-style-image: none;
	list-style: none;
	margin-left: -5px;
}

</style>


		<h:form>
		<div id="cover">

		<fieldset class="fieldsetborder"
			style="float:left; width:100%; height: 700px; margin-left: -170px; border:1px solid #ddd">	
		
		          
          <div style="height:650px; overflow:auto; ">
          <h:panelGrid>
           <rich:simpleTogglePanel  opened="false" switchType="client" label="Author's comment"  height="550" style="margin: 2px; width:763px">
                     <rich:editor style="color:#537000" id="editor0" language="de" width="700" height="500"  value="#{dkmsContentItemBean.description}" theme="advanced" viewMode="visual" readonly="true">

					</rich:editor>  
            </rich:simpleTogglePanel>
           </h:panelGrid>
           <h:panelGrid>
            <rich:simpleTogglePanel  opened="false" switchType="client" label="Guest comments"  height="550" style="margin: 2px; width:763px">
             <div style="height:400px; overflow:auto; ">
                  <rich:dataList var="col" value="#{dkmsContentItemBean.dkmsCommentList}">
            
			   		 <h:commandLink action="#" style="margin-left:-5px; font-size:10px">#{col.version} by #{col.commentAuthor}</h:commandLink>
			   	
			   		 <rich:editor id="editor2" language="de" width="650"
								height="20" value="#{col.commentContent}" theme="advanced"
								viewMode="visual" readonly="true">
						</rich:editor> 
					<br/>
			
			   		 
		           
        </rich:dataList>
        </div>
            </rich:simpleTogglePanel>
            </h:panelGrid>     
              
      	    <br/>         
		<div style="width:730px">
		<rich:tabPanel style="width:725px">
			<c:forEach items="#{dkmsContentItemBean.dkmsSequenceComponentList}" var="item" id="itemList">
	        <rich:tab label="#{item.taskTitle}">
	            <rich:editor style="margin: 10px;" language="de" width="740" height="630"
			 value="#{item.sequenceContent}" theme="advanced"
			viewMode="visual" readonly="true">

				</rich:editor>
	        </rich:tab>
	        </c:forEach>

  	    </rich:tabPanel>
  	    </div>
	</div>	

		</fieldset>
		
		<fieldset class="fieldsetborder" style="float:right; width: 200px; height: 700px; margin-right: -160px; border:1px solid #ddd">

		<div id="buttons">
		
		<c:if test="#{identity.loggedIn == true}">
		    
			<h:commandLink 
				action = "#{identityManagerService.logout}" >
				<img
					src="#{facesContext.externalContext.requestContextPath}/view/img/logout_small.png"
					style="valign: center; vertical-align: middle; margin-right: 7px; margin-left:-7px"/>Logout</h:commandLink>    
			<div id="trennlinie"></div> 
			<br/>
		</c:if>
		
		<h:commandLink class="buttonclass"
			action="#{dkmsReadModusAction.showCombiScrollPerspective()}">
			<img
				src="#{facesContext.externalContext.requestContextPath}/view/img/mouse.png"
				style="valign: center; vertical-align: middle; margin-right: 10px;" /> Scroll Perspective</h:commandLink>
			
    		<br/><br/>	
		
		<c:if test="#{identity.loggedIn == true}">
			<h:commandLink  class="buttonclass"
			action="#{dkmsReadModusAction.insertComment()}">
			<img
				src="#{facesContext.externalContext.requestContextPath}/view/img/plus.png"
				style="valign: center; vertical-align: middle; margin-right: 10px; margin-left:-4px" />Add Comment</h:commandLink>
			<br/><br/>
			</c:if>
			<c:if test="#{identity.loggedIn == false}">
	   			<h:commandLink action="#" onclick="javascript:alert('Please go to platform home and login with your username and password!');" style="text-decoration:none">
	    		
	    	<img
				src="#{facesContext.externalContext.requestContextPath}/view/img/plus.png"
				style="valign: center; vertical-align: middle; margin-right: 10px; margin-left:-4px" />Add Comment</h:commandLink>
			<br/><br/>
			
			</c:if>	
			
			<h:commandLink class="buttonclass"
			action="#{dkmsReadModusAction.goToCombinedResource(dkmsContentItemBean.tmpContentItem)}">
			<img
				src="#{facesContext.externalContext.requestContextPath}/view/img/arrowleft_small.png"
				style="valign: center; vertical-align: middle; margin-right: 14px;" /> Back </h:commandLink>
			
			<br/><br/>
			<div id="trennlinie"></div>
		<br/>
			
		
		<div id="comments" style="margin-left:4px">
		<h3>Resource title:</h3>
		<h4>#{dkmsContentItemBean.dkmsContentItemName}</h4>
		<br/>
		<h3>Author:</h3>
		<h4>#{dkmsContentItemBean.authorName}</h4>
		<br/>
		<h3>Last update:</h3>
		<h4>#{dkmsContentItemBean.lastUpdate}</h4>
		<h3></h3>
		</div>	
		
		

		</div>
		
		</fieldset>

		</div>
		</h:form>




	</ui:define>
</ui:composition>