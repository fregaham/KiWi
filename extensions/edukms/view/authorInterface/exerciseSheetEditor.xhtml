<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:a="http://richfaces.org/a4j"
	template="layout/main.xhtml">

	<ui:define name="breadcrumps">
		<ul>
			<li class="first"><s:link
				view="/edukms/authorInterface/home.xhtml" value="| Author Home" /></li>
			<li><s:link
				view="/edukms/authorInterface/exerciseSheetEditor.xhtml"
				value="Create Exercise Sheet" /></li>
		</ul>
	</ui:define>

	<ui:define name="body">

		<style>
h1 {
	color: #6f91c0;
	font-size: 16px;
	margin-left: 20px;
	margin-right: 10px;
	line-hight: 20px;
}

ul li {
	list-style-image: url(../img/li.png);
	color: red;
	font-size: 14px;
	margin-left: 30px;
	margin-top: 5px;
}

li img {
	vertical-align: center;
}

h2 {
	color: #6f91c0;
	font-size: 14px;
	margin-left: 20px;
	margin-top: -15px;
}

h3 {
	color: #6f91c0;
	font-size: 12px;
	margin-left: 20px;
	margin-top: -15px;
}

h4 {
	color: #6f91c0;
	font-size: 11px;
	margin-left: 20px;
	margin-top: -15px;
}


.column {
	width: 600px;
	vertical-align: top;
}

#cover {
	margin: 10px 0 0 0;
	width: 800px;
}

#arrows {
	width: 630px;
	margin: 20px;
}

#editor {
	margin: 20px 20px 20px 20px;
	
}

.buttonclass {

	text-decoration: none;
	margin-right: 5px;

}

#buttons {
	
	/*border-bottom: 1px solid #FFE8C3; */
	padding:10px;

}

#trennlinie {
	
	border-bottom: 1px solid #FFE8C3; 
	margin:10px;

}

.rich-mpnl-controls img {
	src: url("../../img/close.png");
}

.rich-stglpanel-header {
background-color:#eee;
border-color:#eee;
height:15px;
color:#666;
font-size:12px;
font-weight:bold;

}

.rich-stglpanel {
background-color:#eee;
border-color:#C0C0C0;
}

.rich-stglpanel-body {

padding:0px;

}




</style>




	<h:form>
		<div id="cover"><!-- start cover -->
		

		 <rich:simpleTogglePanel  style="margin-left:-170px; margin-bottom: 10px; border-color: #FFE8C3; width:101% " opened="true" switchType="client"  >
			<ui:include src="./menu/menu.xhtml" ></ui:include>
		 </rich:simpleTogglePanel>

		
		<fieldset class="fieldsetborder"
			style="float:left; width:100%; height: 650px; margin-left: -170px; border:1px solid #FFE8C3">
		<!--  <legend>Editor fuer Uebungsblatt</legend> -->
		 
		
			<div>
			
<!--			<img style="margin: 10px 15px 0 15px; float: left;"-->
<!--				src="#{facesContext.externalContext.requestContextPath}/view/img/editor.png" /><br />-->
<!--			<h2 style="margin-top: 5px;">Here you may create an exercise or learning sheet:</h2>-->
<!--			<br />-->

			
			<table border="0"><tr><td valign="middle">
			<h3 style="margin: -2px 0px 0 20px">Step 1: Insert a title for your new resource:&#160;&#160;  </h3></td><td valign="middle">
			
			<h:inputText id="dkmsContentItemName"
				style="width:343px; margin:0 0 0 0px; vertical-align:top" required="true"
				value="#{dkmsContentItemBean.dkmsContentItemName}" ><s:validate /><h:messages /></h:inputText>
			</td></tr></table>
		
			<h3 style="margin: 0 0 0 22px">Step 2: Use the editor below for creating and formatting text:</h3>
	   <br/>
	   
	
<table><tr>
<td><h3 style="margin: -10px 0 0 22px">Note: Use wizards for inserting images or movies into your resource:</h3>
	</td>
<td>			
<f:subview xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"> 
    <rich:modalPanel id="panel" width="400" height="650">
    
        <f:facet name="header" style="height:20px">
            <h:panelGroup>
                <h:outputText value="Upload Images"></h:outputText>
            </h:panelGroup>
        </f:facet>
        
        <f:facet name="controls">
            <h:panelGroup>
                <h:graphicImage value="../img/close.png" styleClass="hidelink" id="hidelink" style="padding-top:7px"/>
<!--                <img src="#{facesContext.externalContext.requestContextPath}/view/img/close.png" style="margin-top:1px" class="hidelink" id="hidelink"/>-->
                <rich:componentControl for="panel" attachTo="hidelink" operation="hide" event="onclick"/>
            </h:panelGroup>
        </f:facet>
        <br/>
       <h2 style="float:left">Step 1: Upload one or more images:</h2>
        <br/>
        <div style="margin-left:10px">
        <rich:fileUpload 
						fileUploadListener="#{dkmsFileAction.picListener}"
						immediateUpload="false"
						maxFilesQuantity="30"
						listHeight="130pt"
						listWidth="240"
				        allowFlash="true"
				        acceptedTypes="jpg, gif, png" 
						addControlLabel="Add File" 
						clearAllControlLabel="Clear All" 
						clearControlLabel="Clear"
                        stopEntryControlLabel="Stop" 
						uploadControlLabel="Upload">
				        	
<!--			        <a:support event="onuploadcomplete"  reRender="panel" actionListener="#{dkmsBasicAction.reloadWikiChangeEditor()}"/>-->
		            <f:facet name="label">
		                <h:outputText value="Upload State" />
		        	</f:facet>					
		   		</rich:fileUpload>	  
		   		</div> 
		   		<br/> <br/>
		   		<div id="picCatalogue" style="height:200px; overflow:auto; margin-left:-10px;  ">
	    <br/>
		<h2 >Image-List:</h2>
		<table cellspacing="10" cellpadding="10">		
		<c:forEach items="#{dkmsContentItemBean.dkmsMediaList}" var="item">    	    
      	<tr><td >   
      	    <img src="#{dkmsReadModusAction.getMiniMultimediaPicname(item)}" style="margin: 0px 15px 0 15px; border: 1px solid #ddd "  />
      	    </td><td><h:commandLink value="Insert" action="#{dkmsBasicAction.insertPicIntoSheet(dkmsReadModusAction.getOriginalMultimediaFilename(item))}"/>
			<a:support event="onClick" />
			
		</td></tr>
		</c:forEach> 
		</table>
		
		</div>	
		   		
		   		<br/>
       <h2 style="float:left">Step 2:&#160;&#160; <h:commandLink style="font-size:14px;" value="Update pic-list" action="#{dkmsBasicAction.reloadExerciseSheetEditor()}"/>
			<a:support event="onClick" /></h2>
       <br/>
       
       
      
    </rich:modalPanel>


	
  
    
    <h:outputLink value="#" id="link">
        <img title="Pic Upload"
					src="#{facesContext.externalContext.requestContextPath}/view/img/upload_images.png" style="vertical-align:middle; margin-right: 8px; margin-left:15px"/>Image Wizard
		
     
        
        <rich:componentControl for="panel" attachTo="link" operation="show" event="onclick"/>
    </h:outputLink>
   
</f:subview>&#160;&#160;&#160;
</td>
<td>
<f:subview xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"> 
    <rich:modalPanel id="panel" width="400" height="350">
        <f:facet name="header" style="height:20px">
            <h:panelGroup>
                <h:outputText value="Insert Movie"></h:outputText>
            </h:panelGroup>
        </f:facet>
        <f:facet name="controls">
            <h:panelGroup>
                <h:graphicImage value="../img/close.png" styleClass="hidelink" id="hidelink" style="padding-top:7px"/>
<!--                <img src="#{facesContext.externalContext.requestContextPath}/view/img/close.png" style="margin-top:1px" class="hidelink" id="hidelink"/>-->
                <rich:componentControl for="panel" attachTo="hidelink" operation="hide" event="onclick"/>
            </h:panelGroup>
        </f:facet>
        <br/>
       <h2 style="float:left">Step 1: Upload movie file:</h2>
        <br/>
        <div style="margin-left:0px">
        <rich:fileUpload 
						fileUploadListener="#{dkmsFileAction.movieListener}"
						immediateUpload="false"
						maxFilesQuantity="1"
						listHeight="100pt"
						listWidth="240"
				        allowFlash="true"
				        acceptedTypes="swf" 
						addControlLabel="Add File" 
						clearAllControlLabel="Clear All" 
						clearControlLabel="Clear"
                        stopEntryControlLabel="Stop" 
						uploadControlLabel="Upload">
				        style="float:left"	
			        <a:support event="onuploadcomplete"  actionListener="#"/>
		            <f:facet name="label">
		                <h:outputText value="Upload State" />
		        	</f:facet>					
		   		</rich:fileUpload>	
		   		</div> 
		   		<br/> <br/><br/>
       <h2 style="float:left">Step 2:&#160;&#160; <h:commandLink style="font-size:14px;" value="Insert Movie" action="#{dkmsBasicAction.insertMovieIntoSheet()}"/>
			<a:support event="onClick" /></h2>
       <br/>
       
       
      <br/> <br/>
    </rich:modalPanel>
    <h:outputLink value="#" id="link">
        <img title="Insert Movie"
					src="#{facesContext.externalContext.requestContextPath}/view/img/video_small.png" style="vertical-align:middle; margin-right: 4px; margin-left:2px"/>Insert Movie
		
        <rich:componentControl for="panel" attachTo="link" operation="show" event="onclick"/>
    </h:outputLink>
</f:subview>
</td>
</tr>
</table>
			</div>
			<div style="height:530px; overflow:auto; ">
			<div id="editor"><rich:editor language="en" width="700"
				height="450" value="#{dkmsContentItemBean.exerciseSheetContent}" theme="advanced"
				viewMode="visual"
				plugins="safari,spellchecker,pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template,ibrowser">
				<f:param name="plugins"
					value="safari,spellchecker,pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template" />
				<f:param name="theme_advanced_buttons1"
					value="save,newdocument,|,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect,fontselect,fontsizeselect" />
				<f:param name="theme_advanced_buttons2"
					value="cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,|,undo,redo,|,link,unlink,anchor,image,cleanup,code,|,insertdate,inserttime,|,forecolor,backcolor" />
				<f:param name="theme_advanced_buttons3"
					value="tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,emotions,iespell,media,|,print,|,ltr,rtl,|,fullscreen, spellchecker,|blockquote,pagebreak" />
				
				<!-- <f:param name="theme_advanced_buttons5" value="|,ibrowser,|" />  -->
				<f:param name="theme_advanced_toolbar_location" value="top" />
				<f:param name="theme_advanced_toolbar_align" value="left" />
				<f:param name="theme_advanced_statusbar_location" value="bottom" />
				<f:param name="theme_advanced_resizing" value="true" />
			</rich:editor>
			
			<br/>
			<h:panelGrid >
           <rich:simpleTogglePanel  opened="false" switchType="client" label="Stepwise Solution"  height="300" style="width:695px">
           <br/>    
           
             
          
          
          <f:subview xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"> 
    <rich:modalPanel id="panel" width="650" height="550">
        <f:facet name="header" style="height:20px">
            <h:panelGroup>
                <h:outputText value="Create Slideshow"></h:outputText>
            </h:panelGroup>
        </f:facet>
        <f:facet name="controls">
            <h:panelGroup>
                <h:graphicImage value="../img/close.png" styleClass="hidelink" id="hidelink" style="padding-top:7px"/>
<!--                <img src="#{facesContext.externalContext.requestContextPath}/view/img/close.png" style="margin-top:1px" class="hidelink" id="hidelink"/>-->
                <rich:componentControl for="panel" attachTo="hidelink" operation="hide" event="onclick"/>
            </h:panelGroup>
        </f:facet>
        <br/>
       <h2 style="float:left">Step 1: Upload slides for stepwise solution approach:</h2>
        <br/>
        <div style="margin-left:50px">
        <rich:fileUpload 
						fileUploadListener="#{dkmsFileAction.slideListener}"
						immediateUpload="false"
						maxFilesQuantity="30"
						listHeight="350"
						listWidth="500"
				        allowFlash="true"
				        acceptedTypes="jpg, gif, png" 
						addControlLabel="Add File" 
						clearAllControlLabel="Clear All" 
						clearControlLabel="Clear"
                        stopEntryControlLabel="Stop" 
						uploadControlLabel="Upload">
				        style="float:left"	
			        <a:support event="onuploadcomplete"  actionListener="#"/>
		            <f:facet name="label">
		                <h:outputText value="Upload State" />
		        	</f:facet>					
		   		</rich:fileUpload>	
		   		</div> 
		   		<br/> <br/><br/><br/>
       <ul><li><h:commandLink style="font-size:14px;" value="Proceed" action="#"/></li></ul>
       			<a:support event="onClick" />
       <br/>
       
       
      <br/> <br/>
    </rich:modalPanel>
    <h:outputLink value="#" id="link">
        <img title="Insert Approach"
					src="#{facesContext.externalContext.requestContextPath}/view/img/slideshow.PNG" style="vertical-align:middle; margin-right: 3px; margin-left:-1px"/>Insert Slides
		
        <rich:componentControl for="panel" attachTo="link" operation="show" event="onclick"/>
    </h:outputLink>
</f:subview>
             <br/><br/>
			<rich:dataGrid id="gal" value="#{dkmsContentItemBean.dkmsSlideList}"  var="pic" columns="1" elements="1"  width="675" align="center">
	
				<img style="margin-left:100px; margin-top:10px; margin-bottom:5px" src="#{dkmsReadModusAction.getSlideshowMultimediaFilename(pic)}" title="Slide" alt="Slide" />
<!--			<h:form>-->
<!--					<h:commandLink  value="Delete" action="#{dkmsWriteModusAction.deleteSlide(pic)}"/>-->
<!--			</h:form>		-->
			<f:facet name="footer" style="margin-top:5px"><rich:datascroller></rich:datascroller></f:facet>
 			</rich:dataGrid>
			         
                      
            </rich:simpleTogglePanel>
            </h:panelGrid>
            <br/>
           
			   

			</div>				
			</div>
		
		</fieldset>

		 <rich:simpleTogglePanel  style="float:left; margin-left:-170px; margin-top: 10px; margin-bottom: 10px; border-color: #FFE8C3; width:101% " opened="true" switchType="client"  >
			<ui:include src="./menu/menu.xhtml" ></ui:include>
		 </rich:simpleTogglePanel>   
		
		</div>
		</h:form>
		<!-- end cover -->
		
	</ui:define>
	
	
</ui:composition>


 