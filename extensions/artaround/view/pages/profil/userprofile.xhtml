<!--
Copyright © Rolf Sint, Michael Schneider, Christian Osterrieder, 2010
*/
--> <!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
				xmlns:s="http://jboss.com/products/seam/taglib" 
				xmlns:ui="http://java.sun.com/jsf/facelets" 
				xmlns:f="http://java.sun.com/jsf/core" 
				xmlns:h="http://java.sun.com/jsf/html" 
				xmlns:rich="http://richfaces.org/rich" 
				xmlns:a="http://richfaces.org/a4j" 
				xmlns:m="http://code.google.com/p/gmaps4jsf/" 
				xmlns:c="http://java.sun.com/jstl/core" 
				xmlns:kiwi="http://www.kiwi-project.eu/jsf" 
				xmlns:p="http://primefaces.prime.com.tr/ui"
				template="../../layout/template-2col.xhtml">
				
    <ui:define name="breadcrumps">
        <ul>
            <li class="first">
                <s:link view="/artaround/home.seam" value="#{messages['artaround.breadcrumps.home']}"/>
            </li>
            <li>
                <s:link view="/artaround/pages/profil/meinProfil.seam" value="#{messages['artaround.breadcrumps.myPage']}"/>
            </li>
            <li>
                <s:link view="/artaround/pages/profil/userprofile.seam" value="#{messages['artaround.myProfil']}"/>
            </li>
        </ul>
    </ui:define>
    <ui:define name="navigation">
        <style>
            
            h3 {
                margin-left: 17px;
                font-size: 16px;
                color: #456;
                font-weight: normal;
                text-align: left;
            }
            
            h4 {
                margin-left: 17px;
                font-size: 14px;
                color: #456;
                font-weight: normal;
                text-align: left;
            }
            
            #cover {
                margin-left: 15px;
                /*margin-top:15px; */
            }
            
            #mask {
                background: #ccc url(#{facesContext.externalContext.requestContextPath}/view/img/mask_gradient_1000.png) no-repeat;
                background-position: -260px -79px;
            }
            
            div.expose {
                /* border:1px outset #aaa; */
                background: #fff url(#{facesContext.externalContext.requestContextPath}/view/img/h800.png) repeat-x;
                padding: 10px;
                margin: 5px 0;
                text-align: center;
                width: 270px;
                -moz-border-radius: 4px;
            }
            
            /* root element for vert_accordion. decorated with rounded borders and gradient background image */
            #verto_accordion {
                /*background:#fff url(#{facesContext.externalContext.requestContextPath}/view/img/h300.png) ;*/
                background: #fff;
                width: 650px;
                /*border:1px solid #eee;	*/
                -background: #666;
                margin-top: 20px;
                margin-left: -10px;
            }
            
            /* vert_accordion header */
            #verto_accordion h2 {
                /*background:#fff url(#{facesContext.externalContext.requestContextPath}/view/img/h30.png);*/
                background: #fff;
                margin: 0;
                padding: 5px 15px;
                font-size: 14px;
                font-weight: normal;
                /*border:1px solid #eee; */
                border-bottom: 1px solid #ddd;
                cursor: pointer;
                color: #452;
            }
            
            /* currently active header */
            #verto_accordion h2.current {
                cursor: default;
                background-color: #eee;
            }
            
            /* vert_accordion pane */
            #verto_accordion div.paneo {
                /*border:1px solid #eee;*/
                border-width: 0 2px;
                display: none;
                height: 230px;
                padding: 15px;
                color: #aaa;
                font-size: 12px;
            }
            
            #verto_accordion div.pane p {
                margin: 0 0 5px 0;
            }
            
        </style>
        <!-- default set of jQuery Tools + jQuery 1.3.2 -->
        <script src="#{facesContext.externalContext.requestContextPath}/view/js/jQueryMain/jquery.tools.min.js">
        </script>
        <!-- activate tabs with JavaScript -->
        <script>
            
            jQuery(function(){
            
                jQuery("#verto_accordion").tabs("#verto_accordion div.paneo", {
                    tabs: 'h2',
                    effect: 'slide',
                    initialIndex: null
                });
            });
            
        </script>
    </ui:define>
    <ui:define name="body">
        <div id="cover">
<!--            <h:form  id = "t2">-->
                <div id="t1">
                    <!--  Logo Arbeitsbereich  -->
                    <fieldset class="fieldsetborder" style="margin-right:300px">
                        <legend>
                            #{messages['artaround.myProfil']}
                        </legend>
                         <img style="float:left; margin:0 10px 5px 10px;" src="#{facesContext.externalContext.requestContextPath}/view/img/person1.png" /><h4>#{messages['artaround.menutext.profil']}</h4>
                        
						<!--	<s:graphicImage style="padding: 3px; border: 1px solid black;"
	    					value="#{artaround.profileAction.data}" 
	    	                fileName="#{artaround.profileAction.currentUser.contentItem.mediaContent.fileName}"/>-->
						
						<br/>
                    </fieldset>
                    <br/>
                    
                    <h:panelGrid width="700">
                    
                    
			
           			   <!--  <rich:modalPanel opened="false" switchType="client" label="Allgemeines"  height="550" id = "artTest">-->
                    <!--  Tab 0 Allgemeines -->
                  <rich:panel label="Allgemeines">
					                                                                 
               
                                
                    <div class="paneo">
                        <table cellpadding="5px" cellspacing="20px">
                            <tr>
                             
                                <td valign="top" align="center">
                                    <fieldset class="fieldsetborder">
                                        <legend>
                                            #{messages['artaround.generalInfo']}
                                        </legend>
                                        <div class="expose">
                                            <div class="dialog">
                                               <h:form>
                                                <h:panelGrid columns="2" rowClasses="prop" columnClasses="name,value">
                                                    <h:outputText value="#{messages['artaround.login.firstname']}" />
                                                    <h:inputText id="firstname" value="#{artaround.profileAction.profileBean.firstName}">
                                                    </h:inputText>
                                                                                                       
                                                    <h:outputText value="#{messages['artaround.login.lastname']}" /><h:inputText id="lastname" value="#{artaround.profileAction.profileBean.lastName}"/><h:outputText value="#{messages['artaround.myProfil.label.gender']} " /><h:inputText id="sex" value="#{artaround.profileAction.profileBean.gender}" /><h:outputText value="#{messages['artaround.myProfil.label.birthday']} "/><h:inputText id="birthday" value="#{artaround.profileAction.profileBean.gebDate}"/><h:outputText value="#{messages['artaround.myProfil.label.street']} "/><h:inputText id="street" value="#{artaround.profileAction.profileBean.postalAdressStreetAndNumber}" /><h:outputText value="#{messages['artaround.myProfil.city']} "/><h:inputText id="city" value="#{artaround.profileAction.profileBean.postalAdressCity}" /><h:outputText value="Staat"/><h:inputText id="state" value="#{artaround.profileAction.profileBean.postalAdressCountryCode}" />
                                                	<br/>
                                                	<center>
                                                	<h:commandButton value="#{messages['artaround.save']}" action="#{artaround.profileAction.store}" style="float:right" />
                        							</center>
                                                </h:panelGrid>
                                                </h:form>
                                            </div>
                                        </div>
                                    </fieldset><!--  end allgemeine Informationen -->
                                </td>
                                
                                <td valign="top">
                                    <fieldset class="fieldsetborder">
                                        <legend>
                                            #{messages['artaround.myFoto']}
                                        </legend>
                                        
                                          <h:form  id = "t2">
                                             <div class="expose" style="text-align:center; width:280px; height:156px;" id="main_media_content">
	                                            <!--<img src="#{facesContext.externalContext.requestContextPath}/view/img/testbild_profil.jpg" alt="Kein Bild geladen" title="Testbild"/>-->
	                                           
	                                          
	                                             <p:commandLink onclick="mediaUploadDialog.show();" id="main_media_content1" title="click to edit">
	                                         	
	                                            <s:graphicImage alt = "no picture available" style="padding: 3px; border: 1px solid black; height: 100px" id="art_image"
						    					value="#{artaround.profileService.data}" 
						    	                fileName="#{artaround.profileAction.currentUser.contentItem.mediaContent.fileName}">
						    	                <s:transformImageSize width="400" maintainRatio="true"/>
						    	                </s:graphicImage>
						    	                 
						    	                <br/>
						    	                <h:outputText value = "Profilbild ändern"/> 
						    	                </p:commandLink>
						    	              
						    	                <br/><br/>
						    	                
<!--						    	                <a href="#" id = "profilePicture" onclick="jQuery('#uploadProfilePicture').fadeIn('fast');">Profilbild ändern</a>-->
												
<!--												 <p:commandLink onclick="mediaUploadDialog.show();" id="main_media_content" style="position: absolute; right:2px; top:2px;" title="click to edit">-->
<!--												<s:graphicImage value="#{kiwi.core.ui.mediaPerspectiveAction.getMediaContent(currentContentItem).data}" >-->
<!--												<s:transformImageSize width="400" maintainRatio="true"/>-->
<!--												</s:graphicImage>-->
												
												<br/>
                                        	</div>
                                        	 </h:form>
                                        
<!--                                        					                     <p:commandLink onclick="mediaUploadDialog.show();" id="main_media_content" style="position: absolute; right:2px; top:2px;" title="click to edit">-->
<!--                                        <div class="expose" style="text-align:center; width:280px; height:156px;">-->
                                     <!--         <img src="#{facesContext.externalContext.requestContextPath}/view/img/testbild_profil.jpg" alt="Kein Bild geladen" title="Testbild"/> -->
<!--                                           -->
<!--                                           -->
<!--                                           -->
<!--                                            <s:graphicImage id = "profilePictureImg" alt = "no picture available" style="padding: 3px; border: 1px solid black; height: 100px"-->
<!--	    					value="#{artaround.profileService.data}" -->
<!--	    	                fileName="#{artaround.profileAction.currentUser.contentItem.mediaContent.fileName}"/>-->
<!--	    	                -->
<!--	    	                					<s:graphicImage value="#{kiwi.core.ui.mediaPerspectiveAction.getMediaContent(currentContentItem).data}" >-->
<!--						<s:transformImageSize width="400" maintainRatio="true"/>-->
<!--					</s:graphicImage>-->
	    	                
<!--	    	                -->
<!--	    	                <br/><br/>-->
<!--											<br/>-->
<!--                                        </div>-->
<!--                            			 <s:transformImageSize maintainRatio="true" width="80"/>-->
<!--                                         </p:commandLink>   -->

                                    </fieldset>
                                </td>
                            </tr>
                        </table>
                    </div>
                  
<!--           			</h:form>-->
         		    </rich:panel>
           			</h:panelGrid>     
                    
                    <h:panelGrid width="700">
          			<rich:simpleTogglePanel  opened="false" switchType="client" label="Kontaktdaten"  height="550">
                    
                     <!--  Tab 1 Header -->
                    <!--  Tab 1 Content -->
                    <div class="paneo">
                        <table cellpadding="5px" cellspacing="10px">
                            <tr>
                                <td valign="top" align="center">
                                    <fieldset class="fieldsetborder">
                                        <legend>
                                            #{messages['artaround.myProfil.label.personal']}
                                        </legend>
                                        <div class="expose">
                                            <div class="dialog">
                                                <h:panelGrid columns="2" rowClasses="prop" columnClasses="name,value">
                                                    <h:outputText value="#{messages['artaround.login.email']} "/><h:inputText id="email" value="#{artaround.profileAction.profileBean.emailAdress}"/><h:outputText value="#{messages['artaround.myProfil.label.mobile']} "/><h:inputText id="mobile" value="#{artaround.profileAction.profileBean.mobilePhoneNumber}"/><h:outputText value="#{messages['artaround.myProfil.label.phone']} "/><h:inputText id="tel" value="#{artaround.profileAction.profileBean.privatePhoneNumber}" /><h:outputText value="#{messages['artaround.myProfil.label.skype']} "/><h:inputText value="#{artaround.profileAction.profileBean.skypePhoneNumber}"/><h:outputText value="#{messages['artaround.myProfil.label.facebook']} "/><h:inputText value="#{artaround.profileAction.profileBean.facebook}"/><h:outputText value="#{messages['artaround.myProfil.label.twitter']} "/><h:inputText value="#{artaround.profileAction.profileBean.twitter}"/>
                                                </h:panelGrid>
                                            </div>
                                        </div>
                                    </fieldset><!--  end persoenliche Informationen -->
                                    <br/>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <h:commandButton value="#{messages['artaround.save']}" action="#{artaround.profileAction.store}" style="float:right" />
           			
                    </rich:simpleTogglePanel>
           			</h:panelGrid>
           			
           			<h:panelGrid width="700">
           			<rich:simpleTogglePanel  opened="false" switchType="client" label="Schreibe etwas ueber dich"  height="550">
                            			
           			
                    <div class="paneo">
                        <table cellpadding="5px" cellspacing="10px">
                            <tr>
                                <td valign="top" align="center">
                                    <fieldset class="fieldsetborder">
                                        <legend>
                                            #{messages['artaround.myProfil.label.about']}
                                        </legend>
                                        <div class="expose">
                                            <div class="dialog">
                                                <h:inputTextarea id="about" style="width:590px;" rows="12" value = "#{artaround.profileAction.profileBean.about}" />
                                                <br/>
                                                <br/>
                                            </div>
                                        </div>
                                       </fieldset>
                                </td>
                            </tr>
                        </table>
                    </div>
           			 <h:commandButton value="#{messages['artaround.save']}" action="#{artaround.profileAction.store}" style="float:right" />
           			</rich:simpleTogglePanel>
           			</h:panelGrid>   
                   
                 
                                       
                </div><rich:messages styleClass="message"/>
<!--            </h:form>-->
        </div><!-- end cover -->
        
      <div id="uploadProfilePicture" style="display:none" class="popup_600">
		<ui:include src="../popup/uploadProfilePicture.xhtml" />	
	 </div>
        
    </ui:define>
    
    <ui:define name="panels">
    	<p:dialog header="Profile Image Upload" widgetVar="mediaUploadDialog" modal="true" width="670" height="500" onCloseUpdate="t2">
		<h:form prependId="false">
			<s:div id="art_mediapanel">
				<s:div styleClass="ui-messages-error ui-corner-all" rendered="#{kiwi.core.ui.mediaPerspectiveAction.unsaved}">
					<s:div >
						<h:outputText value="There are unsaved changes. Click on 'save' to make your updates persistent."/>
					</s:div>
	
					<s:div style="text-align: center; margin-top: 2px;">
						<p:commandButton value="Save" update="art_mediapanel,imageMetadataPanel" actionListener="#{kiwi.core.ui.mediaPerspectiveAction.save}" />
					</s:div>
				</s:div>
				
				<s:div style="text-align: center;">
					<s:graphicImage value="#{kiwi.core.ui.mediaPerspectiveAction.getMediaContent(currentContentItem).data}" >
						<s:transformImageSize width="400" maintainRatio="true"/>
					</s:graphicImage>
				</s:div>
				
				<s:div style="text-align: center; margin-top: 10px;">
					<p:fileUpload fileUploadListener="#{kiwi.core.ui.mediaPerspectiveAction.listener}" 
					              allowTypes="*.jpg;*.png;*.gif;"
								  auto="true" update="art_mediapanel" />
				</s:div>
			</s:div>
		</h:form>
	</p:dialog>
		<!--   <ui:include src="../dialogs/mediaupload.xhtml" /> -->
<!--		<ui:include src="/dialogs2/mediaupload.xhtml" />-->
	</ui:define>
    
</ui:composition>